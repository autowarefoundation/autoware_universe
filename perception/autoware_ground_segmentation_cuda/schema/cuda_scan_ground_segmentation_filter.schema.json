{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "Cuda Scan Ground Segmentation Filter Node Params",
  "type": "object",
  "definitions": {
    "cuda_scan_ground_segmentation_filter": {
      "type": "object",
      "properties": {
        "global_slope_max_angle_deg": {
          "type": "number",
          "description": "The global angle to classify as the ground or object [deg]. A large threshold may reduce false positive of high slope road classification but it may lead to increase false negative of non-ground classification, particularly for small objects.",
          "default": 10.0
        },
        "local_slope_max_angle_deg": {
          "type": "number",
          "description": "The local angle to classify as the ground or object [deg] when comparing with adjacent point. A small value enhance accuracy classification of object with inclined surface. This should be considered together with split_points_distance_tolerance value.",
          "default": 13.0
        },
        "split_points_distance_tolerance": {
          "type": "number",
          "description": "The xy-distance threshold to distinguish far and near [m]",
          "default": 0.2
        },
        "split_height_distance": {
          "type": "number",
          "description": "The height threshold to distinguish ground and non-ground pointcloud when comparing with adjacent points [m]. A small threshold improves classification of non-ground point, especially for high elevation resolution pointcloud lidar. However, it might cause false positive for small step-like road surface or misaligned multiple lidar configuration.",
          "default": 0.2
        },
        "non_ground_height_threshold": {
          "type": "number",
          "description": "Height threshold of non ground objects [m] as split_height_distance",
          "default": 0.2
        },
        "grid_size_m": {
          "type": "number",
          "description": "The first grid size [m]. A large value enhances the prediction stability for ground surface. suitable for rough surface or multiple lidar configuration.",
          "default": 0.1
        },
        "gnd_cell_buffer_size": {
          "type": "integer",
          "description": "Number of gnd cells using to estimate local ground slope",
          "default": 4
        },
        "detection_range_z_max": {
          "type": "number",
          "description": "Maximum height of detection range [m]",
          "default": 2.5
        },
        "low_priority_region_x": {
          "type": "number",
          "description": "The non-zero x threshold in back side from which small objects detection is low priority [m]",
          "default": -20.0
        },
        "center_pcl_shift": {
          "type": "number",
          "description": "The x-axis offset of addition LiDARs from vehicle center of mass [m]",
          "default": 0.0
        },
        "sector_angle_deg": {
          "type": "number",
          "description": " The radial angle to divide pointcloud into sectors [deg]",
          "default": 1.0
        },
        "use_recheck_ground_cluster": {
          "type": "boolean",
          "description": "Enable recheck ground cluster",
          "default": "true"
        },
        "recheck_start_distance": {
          "type": "number",
          "description": "The distance to start rechecking ground cluster [m]",
          "default": 20.0,
          "minimum": 0.0
        },
        "use_lowest_point": {
          "type": "boolean",
          "description": "To select lowest point for reference in recheck ground cluster, otherwise select middle point",
          "default": "true"
        },
        "max_radius": {
          "type": "number",
          "description": "The maximum radius to consider for ground segmentation [m]",
          "default": 240.0,
          "minimum": 0.0
        }
      },
      "required": [
        "global_slope_max_angle_deg",
        "local_slope_max_angle_deg",
        "split_points_distance_tolerance",
        "split_height_distance",
        "non_ground_height_threshold",
        "grid_size_m",
        "detection_range_z_max",
        "use_recheck_ground_cluster",
        "recheck_start_distance",
        "use_lowest_point",
        "low_priority_region_x",
        "center_pcl_shift",
        "sector_angle_deg",
        "max_radius",
        "gnd_cell_buffer_size"
      ],
      "additionalProperties": false
    }
  },
  "properties": {
    "/**": {
      "type": "object",
      "properties": {
        "ros__parameters": {
          "$ref": "#/definitions/cuda_scan_ground_segmentation_filter"
        }
      },
      "required": ["ros__parameters"],
      "additionalProperties": false
    }
  },
  "required": ["/**"],
  "additionalProperties": false
}
