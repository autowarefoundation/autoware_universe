{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "Parameters for FRNet node",
  "$comment": "This schema is not considered in CI workflow. See https://github.com/autowarefoundation/autoware_universe/pull/8205#issuecomment-2255074224.",
  "type": "object",
  "definitions": {
    "frnet": {
      "type": "object",
      "properties": {
        "onnx_path": {
          "type": "string",
          "description": "A path to ONNX model file.",
          "default": "$(var model_path)/frnet_$(var sensor_model).onnx",
          "pattern": "\\.onnx$"
        },
        "trt_precision": {
          "type": "string",
          "description": "A precision of TensorRT engine.",
          "default": "fp16",
          "enum": ["fp16", "fp32"]
        },
        "filter_class_confidence_threshold": {
          "type": "number",
          "description": "A threshold value for the filter classes' probability. If any of the listed classes has probability greater or equal to this value, the point will be excluded from the filtered output cloud.",
          "default": "0.05",
          "minimum": 0.0,
          "maximum": 1.0
        },
        "filter_classes": {
          "type": "array",
          "items": { "type": "string" },
          "description": "A list of class names to be filtered out if their probability exceeds the threshold.",
          "default": ["drivable_surface"],
          "uniqueItems": true
        }
      },
      "required": [
        "onnx_path",
        "trt_precision",
        "filter_class_confidence_threshold",
        "filter_classes"
      ],
      "additionalProperties": false
    }
  },
  "properties": {
    "/**": {
      "type": "object",
      "properties": {
        "ros__parameters": {
          "$ref": "#/definitions/frnet"
        }
      },
      "required": ["ros__parameters"],
      "additionalProperties": false
    }
  },
  "required": ["/**"],
  "additionalProperties": false
}
